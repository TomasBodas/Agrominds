<!DOCTYPE html>
<html lang="es">
@{
 ViewBag.Title = "Plans";
 Services.Idioma.Translator translator = new Services.Idioma.Translator();
 UAIDesarrolloArquitectura.Controllers.IdiomaController lC = new UAIDesarrolloArquitectura.Controllers.IdiomaController();
 lC.InitializeController();
 Services.LanguageService service = lC.GetService();
 service.Susbcribe(translator);
 if (Services.SessionManager.IsLogged()) { service.ChangeLanguage((Services.SessionManager.GetInstance.User.LanguageId).ToString()); } else { if (!service.SelectedLanguageExists()) { service.ChangeLanguage("1"); } }
 var precios = ViewBag.Precios as System.Collections.IList; // esperado:3 precios del WS
}
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>@translator.GetTraduction(service,"Plans")</title>
 <link rel="stylesheet" href="~/Content/Site.css">
 <link rel="preconnect" href="https://fonts.googleapis.com">
 <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
 <link href="https://fonts.googleapis.com/css2?family=Chivo:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
 <script>
 let addToCart = (planName, price) => {
 let logged = "@Services.SessionManager.IsLogged()";
 if (logged == "True") {
 let cart = JSON.parse(sessionStorage.getItem('cart')) || [];
 cart.push({ name: planName, price: price });
 sessionStorage.setItem('cart', JSON.stringify(cart));
 alert('NO');
 }
 else alert('NO');
 }
 </script>
</head>
<body>
 <nav class="barra">
 @if (Services.SessionManager.IsLogged()) {
 <div id="opciones" class="opciones">
 <a href="@Url.Action("Logout", "Home")">@translator.GetTraduction(service, "Logout")</a>
 <a style="display:none;" id="bitacora" href="@Url.Action("Bitacora", "Bitacora")">@translator.GetTraduction(service, "Log")</a>
 <a style="display:none;" id="abmusuarios" href="@Url.Action("ABMUsuarios", "ABM")">@translator.GetTraduction(service, "ManageUser")</a>
 <a style="display:none;" id="restore" href="@Url.Action("BackupRestore", "Backup")">@translator.GetTraduction(service, "Restoredb")</a>
 <a style="display:none;" id="1001" href="@Url.Action("ABMIdioma", "Idioma")">@translator.GetTraduction(service, "ManageLanguage")</a>
 <a style="display:none;" id="1002" href="@Url.Action("CrearPerfiles", "CrearPerfiles")">@translator.GetTraduction(service, "CreateProfile")</a>
 <a style="display:none;" id="1003" href="@Url.Action("AsignarPerfil", "AsignarPerfil")">@translator.GetTraduction(service, "AssignProfile")</a>
 <script type="text/javascript">@foreach (string permission in Services.SessionManager.GetInstance.User.permissionList){<text>document.getElementById('@permission').style.display='block';</text>}</script>
 </div>
 <div class="opciones"><p style="color: white;">@translator.GetTraduction(service, "Welcome"), @Services.SessionManager.GetInstance.User.Name</p></div>
 } else {
 <a href="@Url.Action("Login", "Login")">@translator.GetTraduction(service, "Login")</a>
 <a href="@Url.Action("Register", "Register")">@translator.GetTraduction(service, "Register")</a>
 }
 <form>
 <select id="option" onchange="enviarValor()">@foreach (Services.Idioma.Language l in service.GetLanguages()){ if (service.SelectedLanguage.Id == l.Id){<option value="@l.Id" selected="selected">@translator.GetTraduction(service, l.Name)</option>} else {<option value="@l.Id">@translator.GetTraduction(service, l.Name)</option>} }</select>
 </form>
 </nav>
 <header><h1 style="color:#2E7D32;">AgroMinds</h1></header>
 <nav class="menu-secundario">
 <a href="@Url.Action("Index", "Home")">@translator.GetTraduction(service, "Main")</a>
 <a href="@Url.Action("Plans", "Home")">@translator.GetTraduction(service, "Plans")</a>
 <a href="@Url.Action("Nosotros", "Home")">@translator.GetTraduction(service, "AboutUs")</a>
 <a href="@Url.Action("Contact", "Home")">@translator.GetTraduction(service, "Contact")</a>
 </nav>
 <div class="container">
 <!-- Plan Basic -->
 <div class="card">
 <div class="card-header" style="background-color:#43A047;">
 <h2 class="h2-plans">Plan Basic</h2>
 </div>
 <p class="final-price">USD @((precios!=null && precios.Count>0)? precios[0] : "1,500") <span>/@translator.GetTraduction(service,"Month")</span></p>
 <p class="discount">@translator.GetTraduction(service,"PlanBasicDesc")</p>
 <ul class="features">
 <li>✔ @translator.GetTraduction(service,"FeatIoTMonitoring")</li>
 <li>✔ @translator.GetTraduction(service,"FeatBasicReports")</li>
 <li>✔ @translator.GetTraduction(service,"FeatPestAlert")</li>
 </ul>
 </div>

 <!-- Plan Pro -->
 <div class="card">
 <div class="card-header" style="background-color:#43A047;">
 <h2 class="h2-plans">Plan Pro</h2>
 </div>
 <p class="final-price">USD @((precios!=null && precios.Count>1)? precios[1] : "3,000") <span>/@translator.GetTraduction(service,"Month")</span></p>
 <p class="discount">@translator.GetTraduction(service,"PlanProDesc")</p>
 <ul class="features">
 <li>✔ @translator.GetTraduction(service,"FeatIrrigationFertilization")</li>
 <li>✔ @translator.GetTraduction(service,"FeatRealtimeProductivity")</li>
 <li>✔ @translator.GetTraduction(service,"FeatAIAnomalies")</li>
 </ul>
 </div>

 <!-- Plan Premium -->
 <div class="card">
 <div class="card-header" style="background-color:#43A047;">
 <h2 class="h2-plans">Plan Premium</h2>
 </div>
 <p class="final-price">USD @((precios!=null && precios.Count>2)? precios[2] : "5,000") <span>/@translator.GetTraduction(service,"Month")</span></p>
 <p class="discount">@translator.GetTraduction(service,"PlanPremiumDesc")</p>
 <ul class="features">
 <li>✔ @translator.GetTraduction(service,"FeatFullAutomation")</li>
 <li>✔ @translator.GetTraduction(service,"FeatPredictiveMaintenance")</li>
 <li>✔ @translator.GetTraduction(service,"FeatPrioritySupport")</li>
 </ul>
 </div>
 </div>
 <footer style="background-color:#2E7D32; color:white; padding:10px; text-align:center;">©2026 AgroMinds — @translator.GetTraduction(service,"AllRightsReserved")</footer>
 <script src="~/Scripts/scriptIdioma.js"></script>
</body>
</html>
